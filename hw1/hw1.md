
# hw1

---

- 请分别从系统和用户的角度，阐述操作系统的功能，并具体描述操作系统需要提供哪些服务。
操作系统的功能：
系统：计算机资源的管理，cpu调度，内存管理，文件系统，io控制
用户：整合计算机的资源供用户进行使用，要求方便，有交互性，具体提供ui界面，为用户程序提供接口以方便用户间接使用计算机的某些资源

- 请阐述 multi-programming 和 multi-tasking 的概念与设计目的。
multi-programing指的是通过多任务的切换使得cpu始终 保持运行状态以提高cpu效率，避免等待时间对于程序性能产生影响。
multi-tasking指的是操作系统频繁改变用户执行的进程使得多个用户能够和自己的进程进行交互。

- 请阐述缓存的思想以及工作原理。
缓存为了解决访问内存效率低和cpu计算速度高之间的矛盾，通过引入容量稍小但访问速度快的存储介质解决这一矛盾。
工作原理：每次访问数据时，先在缓存中进行查找，如果没有找到再访问内存取值，对于高频访问的数据，将其存入缓存中，从而使得大多数数据访问时都从缓存中取，从而减少重复访问内存带来的时间开销。

- 请阐述什么是系统调用， 以及系统调用与 API 的逻辑关系。
系统调用指的是程序通过命令调用系统程序从而使用计算机的某些资源或者机制，用户不必关注系统操作计算机底层的细节实现。
api是比系统调用更上层的机制，用户程序员通过访问操作系统提供的api，再由api调用所需的系统调用执行某些功能。

- 阐述 Dual Mode 的工作机制，以及采用 Dual Mode 的原因。
工作机制：由硬件存储是否为特权模式，在cpu执行指令时定期检查系统状态，若处于异常则执行异常处理程序并恢复计算机状态。
采用该机制原因，保护系统不受恶意程序攻击，保护计算机部件不受计算机运行错误影响。

- 分别阐述 Monolithic 大内核结构，层次化结构，模块化结构和微内核结构的特点和优劣。
大内核结构：将所有的操作系统功能集合到一层程序中 可扩展性不足，难以增强，功能受限
层次化结构：由底层到高层逐层划分为多个级别，每层都调用下一层功能逐层实现操作系统所需的功能 优点在于调试和构造的简单化，每一层只需要关注本层实现的任务，默认底层程序是完备的 困难在于难以清晰的定义每一层需要执行什么样的任务，容易造成各层功能交叉和混乱
模块化结构：模块化结构比层次化更为宽泛，允许结构的构建不仅止于分层，还能围绕功能，计算机具体特性划分模块
微内核结构：非基本化模块都移出内核，仅在需要的时候载入内核。好处是减少了运行时存储空间的占用，同时兼具模块化的优点，可扩展性强，易于维护 但系统总功能开销增加，这是由于需要反复加载不同模块导致的  

- 举例说明什么是机制与策略分离的设计原则，并说明该设计的好处。
  机制决定如何做，策略决定做什么。策略是可选的，机制是固定的。机制和策略相分离要求把一般的，不变的实现为机制，而特殊的，可变的实现为可选的策略。策略与机制分离可以提高灵活性。策略可能会随着位置或时间的改变而改变。灵活的通用机制，能够在一系列策略中发挥作用，策略的改变仅需要重新定义系统的某些参数。例如考虑一种赋予程序优先级的实现。则机制应该是对于某种程序，接受参数决定赋予其高或者低优先级，这个时候对于该机制就能采取对一个特定的程序在特定的场景高优先级这一策略，反之也可。

  
